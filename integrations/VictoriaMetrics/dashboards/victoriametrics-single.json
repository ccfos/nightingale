{
    "name": "VictoriaMetrics - Single",
    "tags": "",
    "ident": "",
    "configs": {
        "version": "3.0.0",
        "links": [
            {
                "title": "Single server Wiki",
                "url": "https://docs.victoriametrics.com/",
                "targetBlank": true
            },
            {
                "title": "Found a bug?",
                "url": "https://github.com/VictoriaMetrics/VictoriaMetrics/issues",
                "targetBlank": true
            },
            {
                "title": "New releases",
                "url": "https://github.com/VictoriaMetrics/VictoriaMetrics/releases",
                "targetBlank": true
            }
        ],
        "var": [
            {
                "name": "datasource",
                "type": "datasource",
                "definition": "prometheus"
            },
            {
                "name": "job",
                "label": "job",
                "type": "query",
                "datasource": {
                    "cate": "prometheus",
                    "value": "${datasource}"
                },
                "definition": "label_values(vm_app_version{version=~\"victoria-metrics-.*\"}, job)",
                "reg": "",
                "multi": false
            },
            {
                "name": "instance",
                "type": "query",
                "datasource": {
                    "cate": "prometheus",
                    "value": "${datasource}"
                },
                "definition": "label_values(vm_app_version{job=~\"$job\"}, instance)",
                "reg": "",
                "multi": false
            },
            {
                "name": "version",
                "label": "version",
                "type": "query",
                "hide": false,
                "datasource": {
                    "cate": "prometheus",
                    "value": "${datasource}"
                },
                "definition": "label_values(vm_app_version{job=~\"$job\", instance=~\"$instance\"}, short_version)",
                "reg": "",
                "multi": false
            }
        ],
        "panels": [
            {
                "type": "row",
                "id": "665759e5-283d-40a7-8fe8-f58c6d235c39",
                "name": "Stats",
                "collapsed": true,
                "layout": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 0,
                    "i": "665759e5-283d-40a7-8fe8-f58c6d235c39",
                    "isResizable": false
                },
                "panels": []
            },
            {
                "type": "stat",
                "id": "57c1976f-974e-4539-a6b9-749bd4b60953",
                "layout": {
                    "h": 2,
                    "w": 4,
                    "x": 0,
                    "y": 1,
                    "i": "57c1976f-974e-4539-a6b9-749bd4b60953",
                    "isResizable": true
                },
                "version": "3.0.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}",
                "targets": [
                    {
                        "refId": "A",
                        "expr": "vm_app_uptime_seconds{job=~\"$job\", instance=~\"$instance\"}",
                        "legend": ""
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "Uptime",
                "links": [],
                "maxPerRow": 4,
                "custom": {
                    "textMode": "value",
                    "graphMode": "none",
                    "colorMode": "value",
                    "calc": "lastNotNull",
                    "valueField": "Value",
                    "colSpan": 1,
                    "textSize": {}
                },
                "options": {
                    "thresholds": {
                        "steps": [
                            {
                                "color": "#F2495C",
                                "value": null,
                                "type": "base"
                            },
                            {
                                "color": "#73BF69",
                                "value": 1800
                            }
                        ]
                    },
                    "valueMappings": [],
                    "standardOptions": {
                        "util": "seconds"
                    }
                }
            },
            {
                "type": "stat",
                "id": "5b0ea4ef-be95-44c9-b192-0f0edc92bdf2",
                "layout": {
                    "h": 2,
                    "w": 5,
                    "x": 4,
                    "y": 1,
                    "i": "5b0ea4ef-be95-44c9-b192-0f0edc92bdf2",
                    "isResizable": true
                },
                "version": "3.0.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}",
                "targets": [
                    {
                        "refId": "A",
                        "expr": "sum(vm_rows{job=~\"$job\", instance=~\"$instance\", type!~\"indexdb.*\"})",
                        "legend": ""
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "Total datapoints",
                "links": [],
                "description": "How many datapoints are in storage",
                "maxPerRow": 4,
                "custom": {
                    "textMode": "value",
                    "graphMode": "none",
                    "colorMode": "value",
                    "calc": "lastNotNull",
                    "valueField": "Value",
                    "colSpan": 1,
                    "textSize": {}
                },
                "options": {
                    "thresholds": {
                        "steps": [
                            {
                                "color": "#73BF69",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "valueMappings": [],
                    "standardOptions": {
                        "util": "none"
                    }
                }
            },
            {
                "version": "3.0.0",
                "id": "0669b69e-d4db-4874-b14c-05afd66489db",
                "type": "stat",
                "name": "Ingestion rate",
                "description": "Shows the datapoints ingestion rate.",
                "links": [],
                "layout": {
                    "h": 2,
                    "w": 5,
                    "x": 9,
                    "y": 1,
                    "i": "0669b69e-d4db-4874-b14c-05afd66489db",
                    "isResizable": true
                },
                "targets": [
                    {
                        "refId": "A",
                        "expr": "sum(rate(vm_rows_inserted_total{job=~\"$job\", instance=~\"$instance\"}[5m]))",
                        "legend": ""
                    }
                ],
                "options": {
                    "valueMappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "style": "line",
                        "steps": [
                            {
                                "color": "#73BF69",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "standardOptions": {
                        "util": "none"
                    },
                    "legend": {
                        "displayMode": "list"
                    },
                    "tooltip": {
                        "mode": "multi"
                    }
                },
                "custom": {
                    "version": "3.0.0",
                    "textMode": "value",
                    "calc": "lastNotNull",
                    "colorMode": "value"
                },
                "maxPerRow": 4,
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}"
            },
            {
                "version": "3.0.0",
                "id": "4f1923f0-a415-435e-98c9-c9b58225512c",
                "type": "stat",
                "name": "Read requests",
                "description": "Shows the rate of HTTP read requests.",
                "links": [],
                "layout": {
                    "h": 2,
                    "w": 5,
                    "x": 14,
                    "y": 1,
                    "i": "4f1923f0-a415-435e-98c9-c9b58225512c",
                    "isResizable": true
                },
                "targets": [
                    {
                        "refId": "A",
                        "expr": "sum(rate(vm_http_requests_total{job=~\"$job\", instance=~\"$instance\", path!~\".*(/write|/metrics)\"}[5m]))",
                        "legend": ""
                    }
                ],
                "options": {
                    "valueMappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "style": "line",
                        "steps": [
                            {
                                "color": "#73BF69",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "standardOptions": {
                        "util": "none"
                    },
                    "legend": {
                        "displayMode": "list"
                    },
                    "tooltip": {
                        "mode": "multi"
                    }
                },
                "custom": {
                    "version": "3.0.0",
                    "textMode": "value",
                    "calc": "lastNotNull",
                    "colorMode": "value"
                },
                "maxPerRow": 4,
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}"
            },
            {
                "version": "3.0.0",
                "id": "49dcab13-6410-4adf-b953-5c1678ce6583",
                "type": "stat",
                "name": "Available CPU",
                "description": "Total number of available CPUs for VM process",
                "links": [],
                "layout": {
                    "h": 2,
                    "w": 5,
                    "x": 19,
                    "y": 1,
                    "i": "49dcab13-6410-4adf-b953-5c1678ce6583",
                    "isResizable": true
                },
                "targets": [
                    {
                        "refId": "A",
                        "expr": "sum(vm_available_cpu_cores{job=~\"$job\", instance=~\"$instance\"})",
                        "legend": ""
                    }
                ],
                "options": {
                    "valueMappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "style": "line",
                        "steps": [
                            {
                                "color": "#73BF69",
                                "value": null,
                                "type": "base"
                            },
                            {
                                "color": "#F2495C",
                                "value": 80
                            }
                        ]
                    },
                    "standardOptions": {
                        "util": "none"
                    },
                    "legend": {
                        "displayMode": "list"
                    },
                    "tooltip": {
                        "mode": "multi"
                    }
                },
                "custom": {
                    "version": "3.0.0",
                    "textMode": "value",
                    "calc": "lastNotNull",
                    "colorMode": "value"
                },
                "maxPerRow": 4,
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}"
            },
            {
                "type": "text",
                "id": "9add6be9-59a1-496e-8357-5056df376e02",
                "layout": {
                    "h": 2,
                    "w": 4,
                    "x": 0,
                    "y": 3,
                    "i": "661c50c4-244a-4218-9412-bcfb253790d6",
                    "isResizable": true
                },
                "version": "3.0.0",
                "name": "version",
                "links": [],
                "maxPerRow": 4,
                "custom": {
                    "textColor": "#000000",
                    "bgColor": "#FFFFFF",
                    "textSize": 12,
                    "justifyContent": "center",
                    "alignItems": "center",
                    "content": "<div style=\"text-align: center;\">${version}</div>"
                }
            },
            {
                "version": "3.0.0",
                "id": "558e366e-81f8-457d-8954-891361552120",
                "type": "stat",
                "name": "Active series",
                "description": "Shows the number of active time series with new data points inserted during the last hour. High value may result in ingestion slowdown. \n\nSee more details here https://docs.victoriametrics.com/FAQ.html#what-is-an-active-time-series",
                "links": [],
                "layout": {
                    "h": 2,
                    "w": 5,
                    "x": 4,
                    "y": 3,
                    "i": "558e366e-81f8-457d-8954-891361552120",
                    "isResizable": true
                },
                "targets": [
                    {
                        "refId": "A",
                        "expr": "vm_cache_entries{job=~\"$job\", instance=~\"$instance\", type=\"storage/hour_metric_ids\"}",
                        "legend": ""
                    }
                ],
                "options": {
                    "valueMappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "style": "line",
                        "steps": [
                            {
                                "color": "#73BF69",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "standardOptions": {
                        "util": "none"
                    },
                    "legend": {
                        "displayMode": "list"
                    },
                    "tooltip": {
                        "mode": "multi"
                    }
                },
                "custom": {
                    "version": "3.0.0",
                    "textMode": "value",
                    "calc": "lastNotNull",
                    "colorMode": "value"
                },
                "maxPerRow": 4,
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}"
            },
            {
                "version": "3.0.0",
                "id": "cf10b65f-dce6-407a-b7c5-c609f3b3d011",
                "type": "stat",
                "name": "Disk space usage",
                "description": "Total amount of used disk space",
                "links": [],
                "layout": {
                    "h": 2,
                    "w": 5,
                    "x": 9,
                    "y": 3,
                    "i": "cf10b65f-dce6-407a-b7c5-c609f3b3d011",
                    "isResizable": true
                },
                "targets": [
                    {
                        "refId": "A",
                        "expr": "sum(vm_data_size_bytes{job=~\"$job\", instance=~\"$instance\"})",
                        "legend": ""
                    }
                ],
                "options": {
                    "valueMappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "style": "line",
                        "steps": [
                            {
                                "color": "#73BF69",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "standardOptions": {
                        "util": "bytesIEC"
                    },
                    "legend": {
                        "displayMode": "list"
                    },
                    "tooltip": {
                        "mode": "multi"
                    }
                },
                "custom": {
                    "version": "3.0.0",
                    "textMode": "value",
                    "calc": "lastNotNull",
                    "colorMode": "value"
                },
                "maxPerRow": 4,
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}"
            },
            {
                "version": "3.0.0",
                "id": "0a5c466a-88ec-4b60-ac10-523151a85105",
                "type": "stat",
                "name": "Bytes per point",
                "description": "Average disk usage per datapoint.",
                "links": [],
                "layout": {
                    "h": 2,
                    "w": 5,
                    "x": 14,
                    "y": 3,
                    "i": "0a5c466a-88ec-4b60-ac10-523151a85105",
                    "isResizable": true
                },
                "targets": [
                    {
                        "refId": "A",
                        "expr": "sum(vm_data_size_bytes{job=~\"$job\", instance=~\"$instance\"}) / sum(vm_rows{job=~\"$job\", instance=~\"$instance\"})",
                        "legend": ""
                    }
                ],
                "options": {
                    "valueMappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "style": "line",
                        "steps": [
                            {
                                "color": "#73BF69",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "standardOptions": {
                        "util": "bytesIEC"
                    },
                    "legend": {
                        "displayMode": "list"
                    },
                    "tooltip": {
                        "mode": "multi"
                    }
                },
                "custom": {
                    "version": "3.0.0",
                    "textMode": "value",
                    "calc": "lastNotNull",
                    "colorMode": "value"
                },
                "maxPerRow": 4,
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}"
            },
            {
                "version": "3.0.0",
                "id": "7c43575f-fb3c-4c99-9a2b-1efe31ed8bda",
                "type": "stat",
                "name": "Available memory",
                "description": "Total size of available memory for VM process",
                "links": [],
                "layout": {
                    "h": 2,
                    "w": 5,
                    "x": 19,
                    "y": 3,
                    "i": "7c43575f-fb3c-4c99-9a2b-1efe31ed8bda",
                    "isResizable": true
                },
                "targets": [
                    {
                        "refId": "A",
                        "expr": "sum(vm_available_memory_bytes{job=~\"$job\", instance=~\"$instance\"})",
                        "legend": ""
                    }
                ],
                "options": {
                    "valueMappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "style": "line",
                        "steps": [
                            {
                                "color": "#73BF69",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "standardOptions": {
                        "util": "bytesIEC"
                    },
                    "legend": {
                        "displayMode": "list"
                    },
                    "tooltip": {
                        "mode": "multi"
                    }
                },
                "custom": {
                    "version": "3.0.0",
                    "textMode": "value",
                    "calc": "lastNotNull",
                    "colorMode": "value"
                },
                "maxPerRow": 4,
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}"
            },
            {
                "type": "row",
                "id": "333a3f2f-ea3e-49b6-9ea6-706cf187383b",
                "name": "Overview",
                "collapsed": true,
                "layout": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 5,
                    "i": "333a3f2f-ea3e-49b6-9ea6-706cf187383b",
                    "isResizable": false
                },
                "panels": []
            },
            {
                "type": "timeseries",
                "id": "6bd25ffa-76c9-4d3d-beb6-78e8a6490380",
                "layout": {
                    "h": 8,
                    "w": 12,
                    "x": 0,
                    "y": 6,
                    "i": "6bd25ffa-76c9-4d3d-beb6-78e8a6490380",
                    "isResizable": true
                },
                "version": "3.0.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}",
                "targets": [
                    {
                        "refId": "A",
                        "expr": "sum(rate(vm_rows_inserted_total{job=~\"$job\", instance=~\"$instance\"}[5m])) by (type) > 0",
                        "legend": ""
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "Datapoints ingestion rate ($instance)",
                "links": [],
                "description": "How many datapoints are inserted into storage per second",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "multi"
                    },
                    "legend": {
                        "displayMode": "list",
                        "placement": "bottom"
                    },
                    "standardOptions": {
                        "util": "none",
                        "min": 0
                    },
                    "thresholds": {
                        "steps": [
                            {
                                "color": "#73BF69",
                                "value": null,
                                "type": "base"
                            },
                            {
                                "color": "#F2495C",
                                "value": 80
                            }
                        ]
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "linear",
                    "spanNulls": false,
                    "lineWidth": 1,
                    "fillOpacity": 0.1,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    }
                }
            },
            {
                "version": "3.0.0",
                "id": "88e743aa-3091-4f82-be96-1d6f264c3133",
                "type": "timeseries",
                "name": "Requests rate ($instance)",
                "description": "* `*` - unsupported query path\n* `/write` - insert into VM\n* `/metrics` - query VM system metrics\n* `/query` - query instant values\n* `/query_range` - query over a range of time\n* `/series` - match a certain label set\n* `/label/{}/values` - query a list of label values (variables mostly)",
                "links": [],
                "layout": {
                    "h": 8,
                    "w": 12,
                    "x": 12,
                    "y": 6,
                    "i": "88e743aa-3091-4f82-be96-1d6f264c3133",
                    "isResizable": true
                },
                "targets": [
                    {
                        "refId": "A",
                        "expr": "sum(rate(vm_http_requests_total{job=~\"$job\", instance=~\"$instance\", path!~\"/favicon.ico\"}[5m])) by (path) > 0",
                        "legend": "{{path}}"
                    }
                ],
                "options": {
                    "valueMappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "style": "off",
                        "steps": [
                            {
                                "color": "#73BF69",
                                "value": null,
                                "type": "base"
                            },
                            {
                                "color": "#F2495C",
                                "value": 80
                            }
                        ]
                    },
                    "standardOptions": {
                        "util": "none",
                        "min": 0
                    },
                    "legend": {
                        "displayMode": "list",
                        "placement": "bottom"
                    },
                    "tooltip": {
                        "mode": "multi"
                    }
                },
                "custom": {
                    "version": "3.0.0",
                    "drawStyle": "lines",
                    "lineInterpolation": "linear",
                    "fillOpacity": 0.5,
                    "stack": "off"
                },
                "maxPerRow": 4,
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}"
            },
            {
                "version": "3.0.0",
                "id": "9aa5b5be-0ecd-4f8b-9fa6-43def64f4537",
                "type": "timeseries",
                "name": "Active time series ($instance)",
                "description": "Shows the number of active time series with new data points inserted during the last hour. High value may result in ingestion slowdown. \n\nSee following link for details:",
                "links": [],
                "layout": {
                    "h": 8,
                    "w": 12,
                    "x": 0,
                    "y": 14,
                    "i": "9aa5b5be-0ecd-4f8b-9fa6-43def64f4537",
                    "isResizable": true
                },
                "targets": [
                    {
                        "refId": "A",
                        "expr": "vm_cache_entries{job=~\"$job\", instance=~\"$instance\", type=\"storage/hour_metric_ids\"}",
                        "legend": "Active time series"
                    }
                ],
                "options": {
                    "valueMappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "style": "off",
                        "steps": [
                            {
                                "color": "#73BF69",
                                "value": null,
                                "type": "base"
                            },
                            {
                                "color": "#F2495C",
                                "value": 80
                            }
                        ]
                    },
                    "standardOptions": {
                        "util": "none",
                        "min": 0
                    },
                    "legend": {
                        "displayMode": "list",
                        "placement": "bottom"
                    },
                    "tooltip": {
                        "mode": "multi"
                    }
                },
                "custom": {
                    "version": "3.0.0",
                    "drawStyle": "lines",
                    "lineInterpolation": "linear",
                    "fillOpacity": 0.1,
                    "stack": "off"
                },
                "maxPerRow": 4,
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}"
            },
            {
                "type": "timeseries",
                "id": "4f280522-25f4-4ed5-b6b8-094322b61e02",
                "layout": {
                    "h": 8,
                    "w": 12,
                    "x": 12,
                    "y": 14,
                    "i": "4f280522-25f4-4ed5-b6b8-094322b61e02",
                    "isResizable": true
                },
                "version": "3.0.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}",
                "targets": [
                    {
                        "refId": "A",
                        "expr": "max(vm_request_duration_seconds{job=~\"$job\", instance=~\"$instance\", quantile=\"0.99\"}) by (path) > 0",
                        "legend": ""
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "Query duration 0.99 quantile ($instance)",
                "links": [],
                "description": "The less time it takes is better.\n* `*` - unsupported query path\n* `/write` - insert into VM\n* `/metrics` - query VM system metrics\n* `/query` - query instant values\n* `/query_range` - query over a range of time\n* `/series` - match a certain label set\n* `/label/{}/values` - query a list of label values (variables mostly)",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "multi"
                    },
                    "legend": {
                        "displayMode": "list",
                        "placement": "bottom"
                    },
                    "standardOptions": {
                        "util": "seconds",
                        "min": 0
                    },
                    "thresholds": {
                        "steps": [
                            {
                                "color": "#73BF69",
                                "value": null,
                                "type": "base"
                            },
                            {
                                "color": "#F2495C",
                                "value": 80
                            }
                        ]
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "linear",
                    "spanNulls": false,
                    "lineWidth": 1,
                    "fillOpacity": 0.1,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    }
                }
            },
            {
                "type": "timeseries",
                "id": "1640bdab-1de2-4a8d-90e0-90d57b97dec2",
                "layout": {
                    "h": 8,
                    "w": 12,
                    "x": 0,
                    "y": 22,
                    "i": "1640bdab-1de2-4a8d-90e0-90d57b97dec2",
                    "isResizable": true
                },
                "version": "3.0.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}",
                "targets": [
                    {
                        "refId": "A",
                        "expr": "sum(rate(vm_http_request_errors_total{job=~\"$job\", instance=~\"$instance\"}[5m])) by (path) > 0",
                        "legend": ""
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "Requests error rate ($instance)",
                "links": [],
                "description": "* `*` - unsupported query path\n* `/write` - insert into VM\n* `/metrics` - query VM system metrics\n* `/query` - query instant values\n* `/query_range` - query over a range of time\n* `/series` - match a certain label set\n* `/label/{}/values` - query a list of label values (variables mostly)",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "multi"
                    },
                    "legend": {
                        "displayMode": "list",
                        "placement": "bottom"
                    },
                    "standardOptions": {
                        "util": "none",
                        "min": 0
                    },
                    "thresholds": {
                        "steps": [
                            {
                                "color": "#73BF69",
                                "value": null,
                                "type": "base"
                            },
                            {
                                "color": "#F2495C",
                                "value": 80
                            }
                        ]
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "linear",
                    "spanNulls": false,
                    "lineWidth": 1,
                    "fillOpacity": 0.1,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    }
                }
            },
            {
                "version": "3.0.0",
                "id": "394f20a6-6cf4-4f21-a150-22b9e23f5e8f",
                "type": "timeseries",
                "name": "Logging rate",
                "description": "Shows the rate of logging the messages by their level. Unexpected spike in rate is a good reason to check logs.",
                "links": [],
                "layout": {
                    "h": 8,
                    "w": 12,
                    "x": 12,
                    "y": 22,
                    "i": "394f20a6-6cf4-4f21-a150-22b9e23f5e8f",
                    "isResizable": true
                },
                "targets": [
                    {
                        "refId": "A",
                        "expr": "sum(rate(vm_log_messages_total{job=~\"$job\", instance=~\"$instance\", level!=\"info\"}[5m])) by (level, location) > 0",
                        "legend": "{{level}}: {{location}}"
                    }
                ],
                "options": {
                    "valueMappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "style": "off",
                        "steps": [
                            {
                                "color": "#73BF69",
                                "value": null,
                                "type": "base"
                            },
                            {
                                "color": "#F2495C",
                                "value": 80
                            }
                        ]
                    },
                    "standardOptions": {
                        "util": "none"
                    },
                    "legend": {
                        "displayMode": "list",
                        "placement": "bottom"
                    },
                    "tooltip": {
                        "mode": "multi"
                    }
                },
                "custom": {
                    "version": "3.0.0",
                    "drawStyle": "lines",
                    "lineInterpolation": "linear",
                    "fillOpacity": 1,
                    "stack": "off"
                },
                "maxPerRow": 4,
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}"
            },
            {
                "type": "row",
                "id": "3b19bc17-c76f-4b18-abfe-e9561be56589",
                "name": "Resource usage",
                "collapsed": false,
                "layout": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 30,
                    "i": "3b19bc17-c76f-4b18-abfe-e9561be56589",
                    "isResizable": false
                },
                "panels": [
                    {
                        "type": "timeseries",
                        "id": "59a136e8-d464-4d02-bc7c-1178087bcf95",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 0,
                            "y": 31,
                            "i": "59a136e8-d464-4d02-bc7c-1178087bcf95",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "max(\n    max_over_time(process_resident_memory_bytes{job=~\"$job\", instance=~\"$instance\"}[5m])\n    /\n    vm_available_memory_bytes{job=~\"$job\", instance=~\"$instance\"}\n) by(instance)"
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "RSS memory % usage ($instance)",
                        "description": "Percentage of used memory (resident).\nThe application's performance will significantly degrade when memory usage is close to 100%.",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {},
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "eaf92126-fcf4-4d28-9281-d8037deca2a0",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 12,
                            "y": 31,
                            "i": "15f065a6-0b6a-4df2-b98e-b1757771570d",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "max(\n    rate(process_cpu_seconds_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])\n    /\n    vm_available_cpu_cores{job=~\"$job\", instance=~\"$instance\"}\n) by(job)",
                                "instant": false,
                                "step": 15
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "CPU % usage ($instance)",
                        "description": "",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {
                                "util": "percentUnit",
                                "min": 0,
                                "decimals": 2
                            },
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "268997ad-a0ce-4ebf-945d-51c9e3f0f460",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 0,
                            "y": 35,
                            "i": "bf29719b-f5bb-4b89-8e60-53bd739f4424",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "sum(go_memstats_sys_bytes{job=~\"$job\", instance=~\"$instance\"}) + sum(vm_cache_size_bytes{job=~\"$job\", instance=~\"$instance\"})",
                                "legend": "requested from system"
                            },
                            {
                                "expr": "sum(go_memstats_heap_inuse_bytes{job=~\"$job\", instance=~\"$instance\"}) + sum(vm_cache_size_bytes{job=~\"$job\", instance=~\"$instance\"})",
                                "refId": "B",
                                "legend": "heap inuse"
                            },
                            {
                                "expr": "sum(go_memstats_stack_inuse_bytes{job=~\"$job\", instance=~\"$instance\"})",
                                "refId": "C",
                                "legend": "stack inuse"
                            },
                            {
                                "expr": "sum(process_resident_memory_bytes{job=~\"$job\", instance=~\"$instance\"})",
                                "refId": "D",
                                "legend": "resident"
                            },
                            {
                                "expr": "sum(process_resident_memory_anon_bytes{job=~\"$job\", instance=~\"$instance\"})",
                                "refId": "E",
                                "legend": "resident anonymous"
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Memory usage ($instance)",
                        "description": "",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {
                                "util": "bytesSI"
                            },
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "45707854-779f-4285-b0ad-957074e42351",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 12,
                            "y": 35,
                            "i": "778684b6-8d6b-4005-8af7-a5280b102ddc",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "rate(process_cpu_seconds_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])",
                                "legend": "CPU cores used",
                                "step": 15
                            },
                            {
                                "expr": "process_cpu_cores_available{job=~\"$job\", instance=~\"$instance\"}",
                                "refId": "B",
                                "legend": "Limit",
                                "step": 15
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "CPU ($instance)",
                        "description": "",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {
                                "util": "none"
                            },
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "a5ba85e4-5b91-4b79-bcd0-ced25f48c19e",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 0,
                            "y": 39,
                            "i": "10a8ee1b-18ce-4a8a-9c6a-8f4b265cdd16",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "max_over_time(process_open_fds{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])\n/\nprocess_max_fds{job=~\"$job\", instance=~\"$instance\"}",
                                "legend": "{{job}}",
                                "step": 15
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Open FDs ($instance)",
                        "description": "Shows the percentage of open file descriptors compared to the limit set in the OS.",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {
                                "util": "percentUnit"
                            },
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "bbe4eed4-26d4-4dfd-8ab1-35310f7cf734",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 12,
                            "y": 39,
                            "i": "1c130355-908f-4878-8f3e-30320a458cce",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "sum(rate(process_io_storage_read_bytes_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval]))",
                                "legend": "read",
                                "step": 15
                            },
                            {
                                "expr": "sum(rate(process_io_storage_written_bytes_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval]))",
                                "refId": "B",
                                "legend": "write"
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Disk writes/reads ($instance)",
                        "description": "Shows the number of bytes read/write from the storage layer.",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {
                                "util": "bytesIEC"
                            },
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "704d1639-8545-42a9-8288-07e3d19bbac9",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 0,
                            "y": 43,
                            "i": "32b5451e-a1e9-4473-9f65-81f383390013",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "sum(go_goroutines{job=~\"$job\", instance=~\"$instance\"})",
                                "legend": "gc duration",
                                "step": 15
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Goroutines ($instance)",
                        "description": "",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {
                                "util": "none"
                            },
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "3e93d7d9-255d-425b-bdb6-9ae37b426954",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 12,
                            "y": 43,
                            "i": "b528dcd3-9c32-47f4-9355-bd97a7835ab3",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "sum(vm_tcplistener_conns{job=~\"$job\", instance=~\"$instance\"})",
                                "legend": "connections",
                                "step": 15
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "TCP connections ($instance)",
                        "description": "",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {
                                "util": "none"
                            },
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "aeaabca1-a652-4df9-9160-f2f3b463e38b",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 0,
                            "y": 47,
                            "i": "9a071517-3444-405c-9c13-ad24d2b7e530",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "sum(process_num_threads{job=~\"$job\", instance=~\"$instance\"})",
                                "legend": "threads",
                                "step": 15
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Threads ($instance)",
                        "description": "",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {
                                "util": "none"
                            },
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "c8e7c73e-46b8-4b73-b4f7-80251a34e484",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 12,
                            "y": 47,
                            "i": "e251884d-4a78-4de7-abcb-8ee830daa9db",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "sum(rate(vm_tcplistener_accepts_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval]))",
                                "legend": "connections",
                                "step": 15
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "TCP connections rate ($instance)",
                        "description": "",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {
                                "util": "none"
                            },
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    }
                ]
            },
            {
                "type": "row",
                "id": "5935fe5e-2b40-4b7c-81f5-ad2d3cc5b40c",
                "name": "Storage",
                "collapsed": false,
                "layout": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 31,
                    "i": "5935fe5e-2b40-4b7c-81f5-ad2d3cc5b40c",
                    "isResizable": false
                },
                "panels": [
                    {
                        "type": "timeseries",
                        "id": "cf5673b0-819b-4632-a669-a74882a0466c",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 0,
                            "y": 4,
                            "i": "cf5673b0-819b-4632-a669-a74882a0466c",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "sum(rate(vm_rows_inserted_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (type) > 0",
                                "step": 15,
                                "legend": "{{type}}"
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Datapoints ingestion rate ($instance)",
                        "links": [],
                        "description": "How many datapoints are inserted into storage per second",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "list"
                            },
                            "standardOptions": {},
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "6801e320-7b34-4dd5-bdf7-a2d3e2195275",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 12,
                            "y": 4,
                            "i": "6801e320-7b34-4dd5-bdf7-a2d3e2195275",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "vm_free_disk_space_bytes{job=~\"$job\", instance=~\"$instance\"} \n/ ignoring(path) (\n  (\n    rate(vm_rows_added_to_storage_total{job=~\"$job\", instance=~\"$instance\"}[1d]) \n    - ignoring(type) rate(vm_deduplicated_samples_total{job=~\"$job\", instance=~\"$instance\", type=\"merge\"}[1d])\n  ) * scalar(\n    sum(vm_data_size_bytes{job=~\"$job\", instance=~\"$instance\", type!~\"indexdb.*\"}) \n    / sum(vm_rows{job=~\"$job\", instance=~\"$instance\", type!~\"indexdb.*\"})\n    )\n  )",
                                "legend": "{{instance}}"
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Storage full ETA ($instance)",
                        "description": "Shows the time needed to reach the 100% of disk capacity based on the following params:\n* free disk space;\n* row ingestion rate;\n* dedup rate;\n* compression.\n\nUse this panel for capacity planning in order to estimate the time remaining for running out of the disk space.",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {
                                "util": "seconds"
                            },
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "977baf19-2816-455a-b3be-c14a18d458dc",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 0,
                            "y": 8,
                            "i": "977baf19-2816-455a-b3be-c14a18d458dc",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "sum(vm_data_size_bytes{job=~\"$job\", instance=~\"$instance\", type!~\"indexdb.*\"})",
                                "legend": "Used (datapoints)"
                            },
                            {
                                "expr": "vm_free_disk_space_bytes{job=~\"$job\", instance=~\"$instance\"}",
                                "refId": "B",
                                "legend": "Free"
                            },
                            {
                                "expr": "sum(vm_data_size_bytes{job=~\"$job\", instance=~\"$instance\", type=~\"indexdb.*\"})",
                                "refId": "C",
                                "legend": "Used (index)"
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Disk space usage - datapoints ($instance)",
                        "description": "Shows amount of on-disk space occupied by data points and the remaining disk space at `-storageDataPath`",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {
                                "util": "bytesIEC"
                            },
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "d1830c5e-8876-46cc-a794-461e5fe2bb32",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 12,
                            "y": 8,
                            "i": "d1830c5e-8876-46cc-a794-461e5fe2bb32",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "vm_pending_rows{job=~\"$job\", instance=~\"$instance\", type=\"storage\"}",
                                "legend": "pending datapoints"
                            },
                            {
                                "expr": "vm_pending_rows{job=~\"$job\", instance=~\"$instance\", type=\"indexdb\"}",
                                "refId": "B",
                                "legend": "pending index entries"
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Pending datapoints ($instance)",
                        "description": "How many datapoints are in RAM queue waiting to be written into storage. The number of pending data points should be in the range from 0 to `2*<ingestion_rate>`, since VictoriaMetrics pushes pending data to persistent storage every second.",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {},
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "2524834e-0c2c-4a1e-93dd-cd07d687982c",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 0,
                            "y": 12,
                            "i": "2524834e-0c2c-4a1e-93dd-cd07d687982c",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "sum(vm_rows{job=~\"$job\", instance=~\"$instance\", type!~\"indexdb.*\"})",
                                "legend": "total datapoints",
                                "step": 15
                            },
                            {
                                "expr": "sum(vm_data_size_bytes{job=~\"$job\", instance=~\"$instance\"}) \n/ sum(vm_rows{job=~\"$job\", instance=~\"$instance\"})",
                                "refId": "B",
                                "legend": "bytes-per-datapoint"
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Datapoints ($instance)",
                        "description": "Shows how many datapoints are in the storage and what is average disk usage per datapoint.",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {},
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "0bba80df-7685-4b0b-865a-fe5e21d2c411",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 12,
                            "y": 12,
                            "i": "0bba80df-7685-4b0b-865a-fe5e21d2c411",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "sum(vm_parts{job=~\"$job\", instance=~\"$instance\"}) by (type)",
                                "legend": "{{type}}"
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "LSM parts ($instance)",
                        "description": "Data parts of LSM tree.\nHigh number of parts could be an evidence of slow merge performance - check the resource utilization.\n* `indexdb` - inverted index\n* `storage/small` - recently added parts of data ingested into storage(hot data)\n* `storage/big` -  small parts gradually merged into big parts (cold data)",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {},
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "ab7d0f4a-c8c3-43b1-83b4-7f97dae99c5c",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 0,
                            "y": 16,
                            "i": "ab7d0f4a-c8c3-43b1-83b4-7f97dae99c5c",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "sum(increase(vm_rows_ignored_total{job=~\"$job\", instance=~\"$instance\"}[1h])) by (reason)",
                                "legend": "{{reason}}"
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Rows ignored for last 1h ($instance)",
                        "description": "Shows how many rows were ignored on insertion due to corrupted or out of retention timestamps.",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {},
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "8567004e-55eb-4979-9cbb-8e9f0840aa95",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 12,
                            "y": 16,
                            "i": "8567004e-55eb-4979-9cbb-8e9f0840aa95",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "sum(vm_active_merges{job=~\"$job\", instance=~\"$instance\"}) by(type)",
                                "legend": "{{type}}"
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Active merges ($instance)",
                        "description": "The number of on-going merges in storage nodes.  It is expected to have high numbers for `storage/small` metric.",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {},
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "ff13cd62-6f6e-483a-ab33-68f3ebe261b3",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 0,
                            "y": 20,
                            "i": "ff13cd62-6f6e-483a-ab33-68f3ebe261b3",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "max_over_time(vm_concurrent_addrows_capacity{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])",
                                "legend": "max"
                            },
                            {
                                "expr": "sum(vm_concurrent_addrows_current{job=~\"$job\", instance=~\"$instance\"})",
                                "refId": "B",
                                "legend": "current"
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Concurrent flushes on disk ($instance)",
                        "description": "Shows how many ongoing insertions (not API /write calls) on disk are taking place, where:\n* `max` - equal to number of CPUs;\n* `current` - current number of goroutines busy with inserting rows into underlying storage.\n\nEvery successful API /write call results into flush on disk. However, these two actions are separated and controlled via different concurrency limiters. The `max` on this panel can't be changed and always equal to number of CPUs. \n\nWhen `current` hits `max` constantly, it means storage is overloaded and requires more CPU.\n\n",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {},
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "ce84f2ec-6e15-4a5e-bd13-c1c35c6b850c",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 12,
                            "y": 20,
                            "i": "ce84f2ec-6e15-4a5e-bd13-c1c35c6b850c",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "sum(rate(vm_rows_merged_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by(type)",
                                "legend": "{{type}}"
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Merge speed ($instance)",
                        "description": "The number of rows merged per second by storage nodes.",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {},
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "8ba3dad0-1882-4e95-acd5-e52bf3bd2bbb",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 0,
                            "y": 24,
                            "i": "8ba3dad0-1882-4e95-acd5-e52bf3bd2bbb",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "histogram_quantile(0.99, sum(rate(vm_series_read_per_query_bucket{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (vmrange))",
                                "legend": "{{instance}}",
                                "step": 15
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Series read per query ($instance)",
                        "description": "99th percentile of number of series read per query.",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {},
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "0ae6c17d-eb65-43c6-9cfc-79939f343b4a",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 12,
                            "y": 24,
                            "i": "0ae6c17d-eb65-43c6-9cfc-79939f343b4a",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "histogram_quantile(0.99, sum(rate(vm_rows_read_per_series_bucket{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (vmrange))",
                                "legend": "{{label_name}}",
                                "step": 15
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Datapoints read per series ($instance)",
                        "description": "99th percentile of number of raw samples read per queried series.",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {},
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "61624d75-55f9-4e32-afa0-867eadcd1207",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 0,
                            "y": 28,
                            "i": "61624d75-55f9-4e32-afa0-867eadcd1207",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "sum(histogram_quantile(0.99, sum(rate(vm_rows_read_per_query_bucket{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (instance, vmrange)))",
                                "legend": "datapoints",
                                "step": 15
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Datapoints read per query ($instance)",
                        "description": "99th percentile of number of raw datapoints read per query.",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {},
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    },
                    {
                        "type": "timeseries",
                        "id": "a38d0ec9-1be3-4800-aa77-62d421635590",
                        "layout": {
                            "h": 4,
                            "w": 12,
                            "x": 12,
                            "y": 28,
                            "i": "a38d0ec9-1be3-4800-aa77-62d421635590",
                            "isResizable": true
                        },
                        "version": "3.0.0",
                        "datasourceCate": "prometheus",
                        "datasourceValue": "${datasource}",
                        "targets": [
                            {
                                "refId": "A",
                                "expr": "histogram_quantile(0.99, sum(rate(vm_rows_scanned_per_query_bucket{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by (vmrange))",
                                "legend": "{{instance}}",
                                "step": 15
                            }
                        ],
                        "transformations": [
                            {
                                "id": "organize",
                                "options": {}
                            }
                        ],
                        "name": "Datapoints scanned per series ($instance)",
                        "description": "99th percentile of number of raw samples scanner per query.\n\nThis number can exceed number of RowsReadPerQuery if `step` query arg passed to [/api/v1/query_range](https://prometheus.io/docs/prometheus/latest/querying/api/#range-queries) is smaller than the lookbehind window set in square brackets of [rollup function](https://docs.victoriametrics.com/MetricsQL.html#rollup-functions). For example, if `increase(some_metric[1h])` is executed with the `step=5m`, then the same raw samples on a hour time range are scanned `1h/5m=12` times. See [this article](https://valyala.medium.com/how-to-optimize-promql-and-metricsql-queries-85a1b75bf986) for details.",
                        "maxPerRow": 4,
                        "options": {
                            "tooltip": {
                                "mode": "all",
                                "sort": "none"
                            },
                            "legend": {
                                "displayMode": "hidden"
                            },
                            "standardOptions": {},
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#634CD9",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        },
                        "custom": {
                            "drawStyle": "lines",
                            "lineInterpolation": "smooth",
                            "spanNulls": false,
                            "lineWidth": 1,
                            "fillOpacity": 0.5,
                            "gradientMode": "none",
                            "stack": "off",
                            "scaleDistribution": {
                                "type": "linear"
                            }
                        }
                    }
                ]
            },
            {
                "type": "row",
                "id": "54be3612-b43a-4a5a-a5c6-58349c6fd671",
                "name": "Troubleshooting",
                "collapsed": false,
                "layout": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 32,
                    "i": "54be3612-b43a-4a5a-a5c6-58349c6fd671",
                    "isResizable": false
                }
            },
            {
                "type": "timeseries",
                "id": "1074205e-87cd-4988-b1e8-c76ba2922150",
                "layout": {
                    "h": 4,
                    "w": 12,
                    "x": 0,
                    "y": 33,
                    "i": "1074205e-87cd-4988-b1e8-c76ba2922150",
                    "isResizable": true
                },
                "version": "3.0.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}",
                "targets": [
                    {
                        "refId": "A",
                        "expr": "sum(rate(vm_new_timeseries_created_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval]))",
                        "legend": "churn rate",
                        "step": 15
                    },
                    {
                        "expr": "sum(increase(vm_new_timeseries_created_total{job=~\"$job\", instance=~\"$instance\"}[24h]))",
                        "refId": "B",
                        "legend": "new series over 24h"
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "Churn rate ($instance)",
                "description": "Shows the rate and total number of new series created over last 24h.\n\nHigh churn rate tightly connected with database performance and may result in unexpected OOM's or slow queries. It is recommended to always keep an eye on this metric to avoid unexpected cardinality \"explosions\".\n\nThe higher churn rate is, the more resources required to handle it. Consider to keep the churn rate as low as possible.\n\nGood references to read:\n* https://www.robustperception.io/cardinality-is-key\n* https://www.robustperception.io/using-tsdb-analyze-to-investigate-churn-and-cardinality",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "none"
                    },
                    "legend": {
                        "displayMode": "hidden"
                    },
                    "standardOptions": {},
                    "thresholds": {
                        "steps": [
                            {
                                "color": "#634CD9",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 1,
                    "fillOpacity": 0.5,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    }
                }
            },
            {
                "type": "timeseries",
                "id": "774e409e-d199-4415-bb92-db5252d409da",
                "layout": {
                    "h": 4,
                    "w": 12,
                    "x": 12,
                    "y": 33,
                    "i": "ddfbc9f0-db96-4526-bfc2-4c30e8b59e5d",
                    "isResizable": true
                },
                "version": "3.0.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}",
                "targets": [
                    {
                        "refId": "A",
                        "expr": "max(\n    rate(vm_slow_row_inserts_total{job=~\"$job\"}[$__rate_interval]) \n    / rate(vm_rows_added_to_storage_total{job=~\"$job\"}[$__rate_interval])\n)",
                        "legend": "slow inserts percentage",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "Slow inserts ($instance)",
                "description": "The percentage of slow inserts comparing to total insertion rate during the last 5 minutes. \n\nThe less value is better. If percentage remains high (>10%) during extended periods of time, then it is likely more RAM is needed for optimal handling of the current number of active time series. \n\nIn general, VictoriaMetrics requires ~1KB or RAM per active time series, so it should be easy calculating the required amounts of RAM for the current workload according to capacity planning docs. But the resulting number may be far from the real number because the required amounts of memory depends on may other factors such as the number of labels per time series and the length of label values.",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "none"
                    },
                    "legend": {
                        "displayMode": "hidden"
                    },
                    "standardOptions": {},
                    "thresholds": {
                        "steps": [
                            {
                                "color": "#634CD9",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 1,
                    "fillOpacity": 0.5,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    }
                }
            },
            {
                "type": "timeseries",
                "id": "c473e925-b948-47a6-9958-01130c07b155",
                "layout": {
                    "h": 4,
                    "w": 12,
                    "x": 0,
                    "y": 37,
                    "i": "7b9c3650-28e0-4c63-bec8-834231d460c1",
                    "isResizable": true
                },
                "version": "3.0.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}",
                "targets": [
                    {
                        "refId": "A",
                        "expr": "sum(increase(vm_assisted_merges_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])) by(type) > 0",
                        "legend": "",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "Assisted merges ($instance)",
                "description": "Merge assist happens when storage can't keep up with merging parts. This is usually a sign of overload for storage.",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "none"
                    },
                    "legend": {
                        "displayMode": "hidden"
                    },
                    "standardOptions": {},
                    "thresholds": {
                        "steps": [
                            {
                                "color": "#634CD9",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 1,
                    "fillOpacity": 0.5,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    }
                }
            },
            {
                "type": "timeseries",
                "id": "acec0952-245a-4de6-b82d-0a2c7cd3165a",
                "layout": {
                    "h": 4,
                    "w": 12,
                    "x": 12,
                    "y": 37,
                    "i": "c10d17ce-1f57-401d-a72b-936c428d0bc1",
                    "isResizable": true
                },
                "version": "3.0.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}",
                "targets": [
                    {
                        "refId": "A",
                        "expr": "sum(rate(vm_slow_queries_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval]))",
                        "legend": "slow queries rate",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "Slow queries rate ($instance)",
                "description": "Slow queries rate according to `search.logSlowQueryDuration` flag, which is `5s` by default.",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "none"
                    },
                    "legend": {
                        "displayMode": "hidden"
                    },
                    "standardOptions": {},
                    "thresholds": {
                        "steps": [
                            {
                                "color": "#634CD9",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 1,
                    "fillOpacity": 0.5,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    }
                }
            },
            {
                "type": "timeseries",
                "id": "ae42a1cf-6390-427a-a189-5279b542cc42",
                "layout": {
                    "h": 4,
                    "w": 12,
                    "x": 0,
                    "y": 41,
                    "i": "648ab5b0-69ce-43c6-9e3d-3b9640d54dc3",
                    "isResizable": true
                },
                "version": "3.0.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}",
                "targets": [
                    {
                        "refId": "A",
                        "expr": "vm_cache_size_bytes{job=~\"$job\", instance=~\"$instance\"} / vm_cache_size_max_bytes{job=~\"$job\", instance=~\"$instance\"}",
                        "legend": "{{type}}",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "Cache usage % by type ($instance)",
                "description": "Shows the percentage of used cache size from the allowed size by type. \nValues close to 100% show the maximum potential utilization.\nValues close to 0% show that cache is underutilized.",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "none"
                    },
                    "legend": {
                        "displayMode": "hidden"
                    },
                    "standardOptions": {
                        "util": "percentUnit"
                    },
                    "thresholds": {
                        "steps": [
                            {
                                "color": "#634CD9",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 1,
                    "fillOpacity": 0.5,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    }
                }
            },
            {
                "type": "timeseries",
                "id": "5406caf4-941e-4a3b-8e8c-5072a05b9029",
                "layout": {
                    "h": 4,
                    "w": 12,
                    "x": 12,
                    "y": 41,
                    "i": "14ee2238-0d4e-43f4-87a0-fa31f3ab9ae0",
                    "isResizable": true
                },
                "version": "3.0.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}",
                "targets": [
                    {
                        "refId": "A",
                        "expr": "(\n    rate(vm_cache_misses_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])\n    /\n    rate(vm_cache_requests_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval])\n) > 0",
                        "legend": "{{type}}",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "Cache miss ratio ($instance)",
                "description": "Shows cache miss ratio. Lower is better.",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "none"
                    },
                    "legend": {
                        "displayMode": "hidden"
                    },
                    "standardOptions": {
                        "util": "percentUnit"
                    },
                    "thresholds": {
                        "steps": [
                            {
                                "color": "#634CD9",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 1,
                    "fillOpacity": 0.5,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    }
                }
            },
            {
                "type": "table",
                "id": "ef0b1897-c141-40f7-b68d-0f3492714b04",
                "layout": {
                    "h": 4,
                    "w": 12,
                    "x": 0,
                    "y": 45,
                    "i": "ef0b1897-c141-40f7-b68d-0f3492714b04",
                    "isResizable": true
                },
                "version": "3.0.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}",
                "targets": [
                    {
                        "refId": "A",
                        "expr": "sum(flag{is_set=\"true\", job=~\"$job\", instance=~\"$instance\"}) by(job, instance, name, value)"
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "Non-default flags",
                "maxPerRow": 4,
                "custom": {
                    "showHeader": true,
                    "colorMode": "value",
                    "calc": "lastNotNull",
                    "displayMode": "seriesToRows"
                },
                "options": {
                    "standardOptions": {}
                },
                "overrides": [
                    {}
                ]
            },
            {
                "type": "timeseries",
                "id": "f0f122b3-180d-4673-b105-1a66a645cbaa",
                "layout": {
                    "h": 4,
                    "w": 12,
                    "x": 12,
                    "y": 45,
                    "i": "222ddf3b-d602-4646-a6e0-1ff430026823",
                    "isResizable": true
                },
                "version": "3.0.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${datasource}",
                "targets": [
                    {
                        "refId": "A",
                        "expr": "sum(increase(vm_metrics_with_dropped_labels_total{job=~\"$job\", instance=~\"$instance\"}[$__rate_interval]))",
                        "legend": "limit exceeded",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "Labels limit exceeded ($instance)",
                "description": "VictoriaMetrics limits the number of labels per each metric with `-maxLabelsPerTimeseries` command-line flag.\n\nThis prevents from ingesting metrics with too many labels. The value of `maxLabelsPerTimeseries` must be adjusted for your workload.\n\nWhen limit is exceeded (graph is > 0) - extra labels are dropped, which could result in unexpected identical time series.",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "none"
                    },
                    "legend": {
                        "displayMode": "hidden"
                    },
                    "standardOptions": {
                        "util": "percentUnit"
                    },
                    "thresholds": {
                        "steps": [
                            {
                                "color": "#634CD9",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 1,
                    "fillOpacity": 0.5,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    }
                }
            }
        ]
    }
}