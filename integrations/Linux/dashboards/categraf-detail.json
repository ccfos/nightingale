{
    "name": "机器常用指标（如果只想看当前业务组内的机器修改大盘变量 ident 的变量类型为机器标识即可）",
    "tags": "Categraf",
    "ident": "",
    "uuid": 1737103014612000,
    "configs": {
        "links": [
            {
                "targetBlank": true,
                "title": "n9e",
                "url": "https://n9e.github.io/"
            },
            {
                "targetBlank": true,
                "title": "author",
                "url": "http://flashcat.cloud/"
            }
        ],
        "panels": [
            {
                "type": "stat",
                "id": "c75ae525-ad39-458a-a7ce-2673b75fb95c",
                "layout": {
                    "h": 5,
                    "w": 5,
                    "x": 0,
                    "y": 0,
                    "i": "507b6468-d429-42c7-b86d-d43ce65d6679",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "count(last_over_time(system_uptime{ident=~\"$ident\"}[$__rate_interval]))",
                        "maxDataPoints": 480,
                        "refId": "A",
                        "step": 15,
                        "instant": false
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "存活机器数量",
                "maxPerRow": 4,
                "custom": {
                    "textMode": "value",
                    "graphMode": "area",
                    "colorMode": "background",
                    "calc": "lastNotNull",
                    "valueField": "Value",
                    "colSpan": 0,
                    "textSize": {
                        "value": null
                    },
                    "orientation": "auto"
                },
                "options": {
                    "thresholds": {
                        "steps": [
                            {
                                "color": "rgba(44, 157, 61, 1)",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "valueMappings": [],
                    "standardOptions": {
                        "util": "none",
                        "decimals": 1
                    }
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#6C53B1",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "type": "stat",
                "id": "7a7bd5db-d12e-49f0-92a8-15958e99ee54",
                "layout": {
                    "h": 5,
                    "w": 5,
                    "x": 5,
                    "y": 0,
                    "i": "7a7bd5db-d12e-49f0-92a8-15958e99ee54",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "system_uptime{ident=~\"$ident\"}",
                        "maxDataPoints": 240,
                        "refId": "A",
                        "instant": true,
                        "legend": "{{ident}}"
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {
                            "renameByName": {
                                "ident": "机器",
                                "value": "启动时长"
                            }
                        }
                    }
                ],
                "name": "启动时长",
                "maxPerRow": 4,
                "custom": {
                    "textMode": "valueAndName",
                    "graphMode": "none",
                    "colorMode": "background",
                    "calc": "lastNotNull",
                    "valueField": "Value",
                    "colSpan": 0,
                    "textSize": {},
                    "orientation": "auto"
                },
                "options": {
                    "thresholds": {
                        "steps": [
                            {
                                "color": "rgb(44, 157, 61)",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "standardOptions": {
                        "util": "seconds",
                        "decimals": 2
                    }
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "thresholds": {
                                "steps": [
                                    {
                                        "color": "#6C53B1",
                                        "value": null,
                                        "type": "base"
                                    }
                                ]
                            }
                        }
                    }
                ]
            },
            {
                "type": "hexbin",
                "id": "32298d9a-27ad-4af1-b388-72d454f0371f",
                "layout": {
                    "h": 5,
                    "w": 7,
                    "x": 10,
                    "y": 0,
                    "i": "df545ab2-58d2-4793-8e8d-a0ca7b79a6e9",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "topk(25, disk_used_percent{ident=~\"$ident\"})",
                        "legend": "[{{ident}}] {{path}}",
                        "maxDataPoints": 240,
                        "refId": "A",
                        "step": 15,
                        "instant": true
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "硬盘使用率（最大的25个）",
                "maxPerRow": 4,
                "custom": {
                    "textMode": "value",
                    "calc": "lastNotNull",
                    "valueField": "Value",
                    "colorRange": [
                        "thresholds"
                    ]
                },
                "options": {
                    "thresholds": {
                        "steps": [
                            {
                                "color": "rgba(243, 9, 18, 1)",
                                "value": 99,
                                "type": ""
                            },
                            {
                                "color": "rgba(255, 130, 134, 1)",
                                "value": 95,
                                "type": ""
                            },
                            {
                                "color": "rgba(255, 174, 57, 1)",
                                "value": 80,
                                "type": ""
                            },
                            {
                                "color": "rgb(44, 157, 61)",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "standardOptions": {
                        "util": "percent",
                        "decimals": 1
                    }
                }
            },
            {
                "type": "hexbin",
                "id": "3f57e062-d9df-4eb6-b01d-abd9d7eca4dd",
                "layout": {
                    "h": 5,
                    "w": 7,
                    "x": 17,
                    "y": 0,
                    "i": "b4e16ac1-86f6-4151-884f-f2c996a62c6b",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "topk(25, disk_inodes_used{ident=~\"$ident\"}/disk_inodes_total{ident=~\"$ident\"}*100)",
                        "legend": "[{{ident}}] {{path}}",
                        "maxDataPoints": 240,
                        "refId": "A",
                        "step": 15,
                        "instant": true
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "inode 使用率（最大的25个）",
                "maxPerRow": 4,
                "custom": {
                    "textMode": "value",
                    "calc": "lastNotNull",
                    "valueField": "Value",
                    "colorRange": [
                        "thresholds"
                    ]
                },
                "options": {
                    "thresholds": {
                        "steps": [
                            {
                                "color": "rgba(243, 9, 18, 1)",
                                "value": 99,
                                "type": ""
                            },
                            {
                                "color": "rgba(255, 130, 134, 1)",
                                "value": 95,
                                "type": ""
                            },
                            {
                                "color": "rgba(255, 174, 57, 1)",
                                "value": 80,
                                "type": ""
                            },
                            {
                                "color": "rgb(44, 157, 61)",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "standardOptions": {
                        "util": "percent",
                        "decimals": 1
                    }
                }
            },
            {
                "type": "timeseries",
                "id": "93b03928-5530-4cf6-b877-793964edd889",
                "layout": {
                    "h": 5,
                    "w": 10,
                    "x": 0,
                    "y": 5,
                    "i": "ae05d971-5884-4d5e-9a0c-1f069358d8c4",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "100-cpu_usage_idle{ident=~\"$ident\",cpu=\"cpu-total\"}",
                        "legend": "{{ident}}",
                        "maxDataPoints": 480,
                        "refId": "A",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "CPU使用率历史趋势",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "desc"
                    },
                    "legend": {
                        "displayMode": "hidden",
                        "placement": "bottom",
                        "columns": [
                            "max",
                            "min",
                            "avg",
                            "last"
                        ],
                        "behaviour": "showItem",
                        "selectMode": "single"
                    },
                    "standardOptions": {
                        "util": "percent",
                        "min": null,
                        "max": null,
                        "decimals": 2
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "rgba(255, 101, 107, 1)",
                                "value": 80,
                                "type": ""
                            },
                            {
                                "color": "#634CD9",
                                "type": "base",
                                "value": null
                            }
                        ]
                    },
                    "thresholdsStyle": {
                        "mode": "dashed"
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 2,
                    "fillOpacity": 0.03,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    },
                    "showPoints": "none",
                    "pointSize": 5
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "rightYAxisDisplay": "off"
                        }
                    }
                ]
            },
            {
                "type": "timeseries",
                "id": "e1a7a7a1-a8dc-4408-8ed1-e15354b830c1",
                "layout": {
                    "h": 5,
                    "w": 14,
                    "x": 10,
                    "y": 5,
                    "i": "906aeb9e-bcb7-48da-913e-a4d143403304",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "rate(diskio_io_time{ident=~\"$ident\"}[$__rate_interval])/10",
                        "legend": "{{ident}} {{name}}",
                        "maxDataPoints": 480,
                        "refId": "A",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "IO使用率历史趋势",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "desc"
                    },
                    "legend": {
                        "displayMode": "hidden",
                        "placement": "bottom",
                        "columns": [
                            "max",
                            "min",
                            "avg",
                            "last"
                        ],
                        "behaviour": "showItem",
                        "selectMode": "single"
                    },
                    "standardOptions": {
                        "util": "percent",
                        "min": null,
                        "max": null,
                        "decimals": 2
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "rgba(255, 101, 107, 1)",
                                "value": 90,
                                "type": ""
                            },
                            {
                                "color": "#634CD9",
                                "type": "base",
                                "value": null
                            }
                        ]
                    },
                    "thresholdsStyle": {
                        "mode": "dashed"
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 2,
                    "fillOpacity": 0.03,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    },
                    "showPoints": "none",
                    "pointSize": 5
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "rightYAxisDisplay": "off"
                        }
                    }
                ]
            },
            {
                "type": "timeseries",
                "id": "b712ac92-1a59-42c0-90f2-270da6c38522",
                "layout": {
                    "h": 5,
                    "w": 10,
                    "x": 0,
                    "y": 10,
                    "i": "e997491a-d932-473e-b739-49d21da30fa1",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "mem_used_percent{ident=~\"$ident\"}",
                        "legend": "{{ident}}",
                        "maxDataPoints": 480,
                        "refId": "A",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "内存使用率历史趋势",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "desc"
                    },
                    "legend": {
                        "displayMode": "hidden",
                        "placement": "bottom",
                        "columns": [
                            "max",
                            "min",
                            "avg",
                            "last"
                        ],
                        "behaviour": "showItem",
                        "selectMode": "single"
                    },
                    "standardOptions": {
                        "util": "percent",
                        "min": null,
                        "max": null,
                        "decimals": 2
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "rgba(255, 101, 107, 1)",
                                "value": 80,
                                "type": ""
                            },
                            {
                                "color": "#634CD9",
                                "type": "base",
                                "value": null
                            }
                        ]
                    },
                    "thresholdsStyle": {
                        "mode": "dashed"
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 2,
                    "fillOpacity": 0.03,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    },
                    "showPoints": "none",
                    "pointSize": 5
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "rightYAxisDisplay": "off"
                        }
                    }
                ]
            },
            {
                "type": "timeseries",
                "id": "6fe0d316-55ef-4222-9fef-6905a161b889",
                "layout": {
                    "h": 5,
                    "w": 7,
                    "x": 10,
                    "y": 10,
                    "i": "41804f33-8263-43a2-84a9-18d9c06a47f5",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "(1 - mem_swap_free{ident=~\"$ident\"} / mem_swap_total{ident=~\"$ident\"})*100 and mem_swap_total{ident=~\"$ident\"} > 0",
                        "legend": "{{ident}}",
                        "maxDataPoints": 480,
                        "refId": "A",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "swap 使用率历史趋势",
                "description": "如果没有启用 swap，这个图表是 No Data，是符合预期的",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "desc"
                    },
                    "legend": {
                        "displayMode": "hidden",
                        "placement": "bottom",
                        "columns": [
                            "max",
                            "min",
                            "avg",
                            "last"
                        ],
                        "behaviour": "showItem",
                        "selectMode": "single"
                    },
                    "standardOptions": {
                        "util": "percent",
                        "min": null,
                        "max": null,
                        "decimals": 2
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "rgba(255, 101, 107, 1)",
                                "value": 80,
                                "type": ""
                            },
                            {
                                "color": "#634CD9",
                                "type": "base",
                                "value": null
                            }
                        ]
                    },
                    "thresholdsStyle": {
                        "mode": "dashed"
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 2,
                    "fillOpacity": 0.03,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    },
                    "showPoints": "none",
                    "pointSize": 5
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "rightYAxisDisplay": "off"
                        }
                    }
                ]
            },
            {
                "type": "timeseries",
                "id": "6ff8ac2f-de61-4806-b166-bde46469bc14",
                "layout": {
                    "h": 5,
                    "w": 7,
                    "x": 17,
                    "y": 10,
                    "i": "d83d8821-85c1-4ce7-9f65-2709f27c17b0",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "rate(kernel_vmstat_oom_kill{ident=~\"$ident\"}[$__rate_interval])",
                        "legend": "{{ident}}",
                        "maxDataPoints": 480,
                        "refId": "A",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "每秒OOM次数",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "desc"
                    },
                    "legend": {
                        "displayMode": "hidden",
                        "placement": "bottom",
                        "columns": [
                            "max",
                            "min",
                            "avg",
                            "last"
                        ],
                        "behaviour": "showItem",
                        "selectMode": "single"
                    },
                    "standardOptions": {
                        "util": "none",
                        "min": null,
                        "max": null,
                        "decimals": 1
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "#634CD9",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "thresholdsStyle": {
                        "mode": "dashed"
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 2,
                    "fillOpacity": 0.03,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    },
                    "showPoints": "none",
                    "pointSize": 5
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "rightYAxisDisplay": "off"
                        }
                    }
                ]
            },
            {
                "collapsed": true,
                "id": "307152d2-708c-4736-98cf-08b886cbf7f2",
                "layout": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 15,
                    "i": "307152d2-708c-4736-98cf-08b886cbf7f2",
                    "isResizable": false
                },
                "name": "网络详情",
                "panels": [],
                "type": "row"
            },
            {
                "type": "timeseries",
                "id": "f2ee5d32-737c-4095-b6b7-b15b778ffdb9",
                "layout": {
                    "h": 5,
                    "w": 12,
                    "x": 0,
                    "y": 16,
                    "i": "f2ee5d32-737c-4095-b6b7-b15b778ffdb9",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "rate(net_bytes_recv{ident=~\"$ident\"}[$__rate_interval])*8",
                        "legend": "{{ident}} {{interface}}",
                        "maxDataPoints": 480,
                        "refId": "A",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "网络流量-入向",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "desc"
                    },
                    "legend": {
                        "displayMode": "hidden",
                        "placement": "bottom",
                        "behaviour": "showItem",
                        "selectMode": "single"
                    },
                    "standardOptions": {
                        "util": "bitsSecSI",
                        "decimals": 2
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "#634CD9",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "thresholdsStyle": {
                        "mode": "dashed"
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 2,
                    "fillOpacity": 0.03,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    },
                    "showPoints": "none",
                    "pointSize": 5
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "rightYAxisDisplay": "normal",
                            "standardOptions": {
                                "util": "bitsIEC"
                            }
                        }
                    }
                ]
            },
            {
                "type": "timeseries",
                "id": "1ab67f48-ff24-42e5-b532-a1496ae9b2b6",
                "layout": {
                    "h": 5,
                    "w": 12,
                    "x": 12,
                    "y": 16,
                    "i": "5cab201a-9ea9-420b-90aa-48f8e00dccca",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "rate(net_bytes_sent{ident=~\"$ident\"}[$__rate_interval])*8",
                        "legend": "{{ident}} {{interface}}",
                        "maxDataPoints": 480,
                        "refId": "B",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "网络流量-出向",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "desc"
                    },
                    "legend": {
                        "displayMode": "hidden",
                        "placement": "bottom",
                        "behaviour": "showItem",
                        "selectMode": "single"
                    },
                    "standardOptions": {
                        "util": "bitsSecSI",
                        "decimals": 2
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "#634CD9",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "thresholdsStyle": {
                        "mode": "dashed"
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 2,
                    "fillOpacity": 0.03,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    },
                    "showPoints": "none",
                    "pointSize": 5
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "rightYAxisDisplay": "normal",
                            "standardOptions": {
                                "util": "bitsIEC"
                            }
                        }
                    }
                ]
            },
            {
                "type": "timeseries",
                "id": "cfb80689-de7b-47fb-9155-052b796dd7f5",
                "layout": {
                    "h": 5,
                    "w": 12,
                    "x": 0,
                    "y": 21,
                    "i": "cfb80689-de7b-47fb-9155-052b796dd7f5",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "netstat_tcp_tw{ident=~\"$ident\"}",
                        "maxDataPoints": 480,
                        "refId": "B",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "Time Wait 状态的连接数",
                "description": "",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "desc"
                    },
                    "legend": {
                        "displayMode": "hidden",
                        "placement": "bottom",
                        "behaviour": "showItem",
                        "selectMode": "single"
                    },
                    "standardOptions": {
                        "decimals": 0
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "#634CD9",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "thresholdsStyle": {
                        "mode": "dashed"
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 2,
                    "fillOpacity": 0.03,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    },
                    "showPoints": "none",
                    "pointSize": 5
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "rightYAxisDisplay": "off"
                        }
                    }
                ]
            },
            {
                "type": "timeseries",
                "id": "9634c41c-e124-4d7f-9406-0f86753e8d70",
                "layout": {
                    "h": 5,
                    "w": 6,
                    "x": 12,
                    "y": 21,
                    "i": "9634c41c-e124-4d7f-9406-0f86753e8d70",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "rate(net_err_in{ident=~\"$ident\"}[$__rate_interval])",
                        "legend": "{{ident}}-{{interface}}-in",
                        "maxDataPoints": 480,
                        "refId": "A",
                        "step": 15
                    },
                    {
                        "expr": "rate(net_err_out{ident=~\"$ident\"}[$__rate_interval])",
                        "legend": "{{ident}}-{{interface}}-out",
                        "maxDataPoints": 480,
                        "refId": "B",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "网络错包",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "desc"
                    },
                    "legend": {
                        "displayMode": "hidden",
                        "placement": "bottom",
                        "behaviour": "showItem",
                        "selectMode": "single"
                    },
                    "standardOptions": {
                        "decimals": 6
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "#634CD9",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "thresholdsStyle": {
                        "mode": "dashed"
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 2,
                    "fillOpacity": 0.06,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    },
                    "showPoints": "none",
                    "pointSize": 5
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "rightYAxisDisplay": "off"
                        }
                    }
                ]
            },
            {
                "type": "timeseries",
                "id": "4123f4c1-bf8e-400e-b267-8d7f6a92691a",
                "layout": {
                    "h": 5,
                    "w": 6,
                    "x": 18,
                    "y": 21,
                    "i": "4123f4c1-bf8e-400e-b267-8d7f6a92691a",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "rate(net_drop_in{ident=~\"$ident\"}[$__rate_interval])",
                        "legend": "{{ident}}-{{interface}}-in",
                        "maxDataPoints": 480,
                        "refId": "A",
                        "step": 15
                    },
                    {
                        "expr": "rate(net_drop_out{ident=~\"$ident\"}[$__rate_interval])",
                        "legend": "{{ident}}-{{interface}}-out",
                        "maxDataPoints": 480,
                        "refId": "B",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "网络丢包",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "desc"
                    },
                    "legend": {
                        "displayMode": "hidden",
                        "placement": "bottom",
                        "behaviour": "showItem",
                        "selectMode": "single"
                    },
                    "standardOptions": {
                        "decimals": 6
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "#634CD9",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "thresholdsStyle": {
                        "mode": "dashed"
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 2,
                    "fillOpacity": 0.06,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    },
                    "showPoints": "none",
                    "pointSize": 5
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "rightYAxisDisplay": "off"
                        }
                    }
                ]
            },
            {
                "collapsed": true,
                "id": "aabb8263-1a9b-43fb-bee1-6c532f5012a3",
                "layout": {
                    "h": 1,
                    "w": 24,
                    "x": 0,
                    "y": 26,
                    "i": "aabb8263-1a9b-43fb-bee1-6c532f5012a3",
                    "isResizable": false
                },
                "name": "其他指标",
                "panels": [],
                "type": "row"
            },
            {
                "type": "timeseries",
                "id": "1b4da538-29d4-4c58-b3f4-773fabb8616c",
                "layout": {
                    "h": 5,
                    "w": 12,
                    "x": 0,
                    "y": 27,
                    "i": "1b4da538-29d4-4c58-b3f4-773fabb8616c",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "disk_device_error{ident=~\"$ident\"}",
                        "legend": "{{ident}} {{path}}",
                        "maxDataPoints": 480,
                        "refId": "A",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "硬盘出错，0是正常，非0是异常",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "desc"
                    },
                    "legend": {
                        "displayMode": "hidden",
                        "placement": "bottom",
                        "behaviour": "showItem",
                        "selectMode": "single"
                    },
                    "standardOptions": {
                        "decimals": 0
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "rgba(44, 157, 61, 1)",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "thresholdsStyle": {
                        "mode": "dashed"
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 2,
                    "fillOpacity": 0.03,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    },
                    "showPoints": "none",
                    "pointSize": 5
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "rightYAxisDisplay": "off"
                        }
                    }
                ]
            },
            {
                "type": "timeseries",
                "id": "0f713e5f-49cf-405a-9922-3b84cded33d4",
                "layout": {
                    "h": 5,
                    "w": 12,
                    "x": 12,
                    "y": 27,
                    "i": "dbfdda49-de73-48ac-a224-b68a1ee61752",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "100 * conntrack_ip_conntrack_count{ident=~\"$ident\"} / conntrack_ip_conntrack_max{ident=~\"$ident\"}",
                        "legend": "ip_conntrack {{ident}}",
                        "maxDataPoints": 480,
                        "refId": "A",
                        "step": 15
                    },
                    {
                        "__mode__": "__query__",
                        "expr": "100 * conntrack_nf_conntrack_count{ident=~\"$ident\"} / conntrack_nf_conntrack_max{ident=~\"$ident\"}",
                        "legend": "nf_conntrack {{ident}}",
                        "maxDataPoints": 480,
                        "refId": "B",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "Conntrack使用率",
                "description": "`dmesg -T` 有时看到 conntrack table full 的报错，大概率就是 conntrack 限制太小了，需要调整内核参数",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "desc"
                    },
                    "legend": {
                        "displayMode": "hidden",
                        "placement": "bottom",
                        "behaviour": "showItem",
                        "selectMode": "single"
                    },
                    "standardOptions": {
                        "util": "percent",
                        "decimals": 6
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "rgba(44, 157, 61, 1)",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "thresholdsStyle": {
                        "mode": "dashed"
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 2,
                    "fillOpacity": 0.03,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    },
                    "showPoints": "none",
                    "pointSize": 5
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "rightYAxisDisplay": "off"
                        }
                    }
                ]
            },
            {
                "type": "timeseries",
                "id": "7c90380f-5ab6-4aa5-9070-f604985a0389",
                "layout": {
                    "h": 5,
                    "w": 12,
                    "x": 0,
                    "y": 32,
                    "i": "e7117d7c-b946-49fa-bc49-2afb0d2b3a44",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "processes_total{ident=~\"$ident\"}",
                        "legend": "",
                        "maxDataPoints": 480,
                        "refId": "A",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "Process 总量",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "desc"
                    },
                    "legend": {
                        "displayMode": "hidden",
                        "placement": "bottom",
                        "behaviour": "showItem",
                        "selectMode": "single"
                    },
                    "standardOptions": {
                        "decimals": 0
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "rgba(44, 157, 61, 1)",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "thresholdsStyle": {
                        "mode": "dashed"
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 2,
                    "fillOpacity": 0.03,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    },
                    "showPoints": "none",
                    "pointSize": 5
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "rightYAxisDisplay": "off"
                        }
                    }
                ]
            },
            {
                "type": "timeseries",
                "id": "3334c222-dd92-49eb-9744-4ce0f59031e4",
                "layout": {
                    "h": 5,
                    "w": 12,
                    "x": 12,
                    "y": 32,
                    "i": "0ecb9f26-4c4d-40d7-9934-5116e3ffa51a",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "procstat_rlimit_num_fds_hard{ident=~\"$ident\"}",
                        "legend": "",
                        "maxDataPoints": 480,
                        "refId": "A",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "进程句柄数限制（低于4096要注意）",
                "description": "以现在的硬件配置，通常句柄的 ulimit 应该比较大，如果低于 4096，大概率是忘记修改配置了，需要注意。这个数据是 Categraf 的 procstat 插件采集的。",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "desc"
                    },
                    "legend": {
                        "displayMode": "hidden",
                        "placement": "bottom",
                        "behaviour": "showItem",
                        "selectMode": "single"
                    },
                    "standardOptions": {
                        "decimals": 0
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "rgba(44, 157, 61, 1)",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "thresholdsStyle": {
                        "mode": "dashed"
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 2,
                    "fillOpacity": 0.03,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    },
                    "showPoints": "none",
                    "pointSize": 5
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "rightYAxisDisplay": "off"
                        }
                    }
                ]
            },
            {
                "type": "timeseries",
                "id": "c3ee640f-e654-4fc7-aa2a-0dd8e9de67cb",
                "layout": {
                    "h": 5,
                    "w": 12,
                    "x": 0,
                    "y": 37,
                    "i": "423adbbf-8c23-45ab-b7d5-9a81b72291f1",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "ntp_offset_ms{ident=~\"$ident\"}",
                        "legend": "",
                        "maxDataPoints": 480,
                        "refId": "A",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "NTP时间偏移",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "desc"
                    },
                    "legend": {
                        "displayMode": "hidden",
                        "placement": "bottom",
                        "behaviour": "showItem",
                        "selectMode": "single"
                    },
                    "standardOptions": {
                        "util": "milliseconds",
                        "decimals": 2
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "rgba(44, 157, 61, 1)",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "thresholdsStyle": {
                        "mode": "dashed"
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 2,
                    "fillOpacity": 0.03,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    },
                    "showPoints": "none",
                    "pointSize": 5
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "rightYAxisDisplay": "off"
                        }
                    }
                ]
            },
            {
                "type": "timeseries",
                "id": "9bb8d5ef-dc4e-419f-8e95-6dbb97b2afb6",
                "layout": {
                    "h": 5,
                    "w": 12,
                    "x": 12,
                    "y": 37,
                    "i": "e97f1934-26e8-4bf3-be21-95307443f146",
                    "isResizable": true
                },
                "version": "3.1.0",
                "datasourceCate": "prometheus",
                "datasourceValue": "${prom}",
                "targets": [
                    {
                        "expr": "linux_sysctl_fs_file_nr{ident=~\"$ident\"}/linux_sysctl_fs_file_max{ident=~\"$ident\"} * 100",
                        "legend": "",
                        "maxDataPoints": 480,
                        "refId": "A",
                        "step": 15
                    }
                ],
                "transformations": [
                    {
                        "id": "organize",
                        "options": {}
                    }
                ],
                "name": "操作系统文件句柄使用率",
                "description": "",
                "maxPerRow": 4,
                "options": {
                    "tooltip": {
                        "mode": "all",
                        "sort": "desc"
                    },
                    "legend": {
                        "displayMode": "hidden",
                        "placement": "bottom",
                        "behaviour": "showItem",
                        "selectMode": "single"
                    },
                    "standardOptions": {
                        "util": "percent",
                        "decimals": 0
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "rgba(44, 157, 61, 1)",
                                "value": null,
                                "type": "base"
                            }
                        ]
                    },
                    "thresholdsStyle": {
                        "mode": "dashed"
                    }
                },
                "custom": {
                    "drawStyle": "lines",
                    "lineInterpolation": "smooth",
                    "spanNulls": false,
                    "lineWidth": 2,
                    "fillOpacity": 0.03,
                    "gradientMode": "none",
                    "stack": "off",
                    "scaleDistribution": {
                        "type": "linear"
                    },
                    "showPoints": "none",
                    "pointSize": 5
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byFrameRefID"
                        },
                        "properties": {
                            "rightYAxisDisplay": "off"
                        }
                    }
                ]
            }
        ],
        "var": [
            {
                "definition": "prometheus",
                "label": "数据源",
                "name": "prom",
                "type": "datasource"
            },
            {
                "name": "ident",
                "label": "所有机器",
                "type": "query",
                "hide": false,
                "multi": true,
                "allOption": true,
                "datasource": {
                    "cate": "prometheus",
                    "value": "${prom}"
                },
                "definition": "label_values(system_uptime, ident)"
            }
        ],
        "version": "3.0.0"
    }
}